<Window x:Class="ConnectionIomGenerator.UI.Views.IomEditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ConnectionIomGenerator.UI.Views"
        xmlns:vm="clr-namespace:ConnectionIomGenerator.UI.ViewModels"
        xmlns:converters="clr-namespace:ConnectionIomGenerator.UI.Converters"
        mc:Ignorable="d"
        Title="Connection Input Editor" 
        Height="550" 
        Width="700"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">
    
    <Window.Resources>
        <converters:NullToVisibilityConverter x:Key="NullToVisibilityConverter"/>
        
        <Style TargetType="TextBlock">
            <Setter Property="VerticalAlignment" Value="Center"/>
 <Setter Property="Margin" Value="5,2"/>
        </Style>
  <Style TargetType="TextBox">
            <Setter Property="Margin" Value="5,2"/>
   <Setter Property="Padding" Value="3"/>
      <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
     <Style TargetType="Button">
       <Setter Property="Margin" Value="5"/>
 <Setter Property="Padding" Value="10,5"/>
            <Setter Property="MinWidth" Value="80"/>
   </Style>
        <Style TargetType="GroupBox">
 <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="5"/>
        </Style>
    </Window.Resources>
    
 <Grid Margin="10">
        <Grid.RowDefinitions>
         <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
     <RowDefinition Height="Auto"/>
  <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,10">
         <TextBlock Text="Connection Input Editor" 
        FontSize="16" 
           FontWeight="Bold"/>
    <TextBlock Text="Edit connection definition in JSON format" 
 Foreground="Gray"
FontSize="11"/>
        </StackPanel>

        <!-- Main Content - Use ConnectionInputView -->
  <local:ConnectionInputView Grid.Row="1" 
               DataContext="{Binding MainViewModel}"/>

 <!-- Validation Message -->
        <Border Grid.Row="2" 
          Visibility="{Binding ValidationMessage, Converter={StaticResource NullToVisibilityConverter}}"
       Background="#FFF4CC"
    BorderBrush="#FFB733"
       BorderThickness="1"
       Padding="10,5"
     Margin="0,5">
        <TextBlock Text="{Binding ValidationMessage}" 
            Foreground="#CC6600"
        TextWrapping="Wrap"/>
    </Border>

    <!-- Buttons -->
  <StackPanel Grid.Row="3" 
          Orientation="Horizontal" 
    HorizontalAlignment="Right" 
   Margin="0,10,0,0">
            <Button Content="OK" 
         Command="{Binding OkCommand}"
       IsDefault="True"
   FontWeight="Bold"
       MinWidth="100"/>
     <Button Content="Cancel" 
    Command="{Binding CancelCommand}"
        IsCancel="True"
  MinWidth="100"/>
        </StackPanel>
    </Grid>
</Window>
